<!DOCTYPE html>
<html>
    <head>
        <title>table</title>
    </head>
    <body>
        <button>submit</button>
        <table border="1" width="100%">
            <tr>
                <th>name</th>
                <th>age</th>
                <th>gender</th>
            </tr>
            <tr>
                <td><input type="text" name="name"></td>
                <td><input type="number" name="age"></td>
                <td><input type="text" name="gender"</td>
            </tr>
        </table>
        <script>
            //user information
            var info=[
                {
                    name:"charlie",
                    age:21,
                    gender:"male"
                }
            ];
            //get table and button
            var table= document.querySelector("table");
            var button=document.querySelector("button");
            //add info to table
            info.forEach((user)=>{
                var tr=document.createElement('tr');
                var td1=document.createElement('td');

                td1.innerHTML=user.name;
                var td2 = document.createElement('td');
                td2.innerHTML =user.age;
                var td3 = document.createElement('td');
                td3.innerHTML=user.gender;
            tr.append(td1,td2,td3);
            table.append(tr);    
            });
            //event on click of button ,generate a new row with user info

            button.addEventListener("click",() => {
                //get all user input
                var inputs=document.querySelectorAll("input");

                var newUser = {
                    name:inputs[0].value,
                    age:inputs[1].value,
                    gender:inputs[2].value
                };
                //check if user exist
                var obj = info.find((user)=>{
                    if (user.name==newUser.name){
                        return true; //breaks
                    }
                });
                //else add user if it doesnt exist
                if(!obj){
                 //   push new info to existing Array
                 
                info.push(newUser);
                
                var tr = document.createElement('tr');
                var td1 = document.createElement('td');
                    td1.innerHTML=info[info.length-1].name;;
                var td2=document.createElement('td');
                    td2.innerHTML=info[info.length-1].age;
                var td3= document.createElement('td');
                    td3.innerHTML=info[info.length-1].gender;
                tr.append(td1,td2,td3);
                table.append(tr);
                }
                else{
                    alert("user exist");
                }
            })
            
        </script>
    </body>
</html>